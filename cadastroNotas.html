<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de notas da Prof. Alice</title>
</head>

<body>
    <h2>Cadastro de Notas</h2>
    Informe o nome do aluno: <input type="text" id="ipt_nome"> <br><br>
    Informe a primeira nota: <input type="number" name="" id="ipt_n1"> <br><br>
    Informe a segunda nota: <input type="number" name="" id="ipt_n2"> <br><br>
    Informe a terceira nota: <input type="number" name="" id="ipt_n3"> <br><br>
    <button onclick="cadastro()">Cadastrar</button> <button onclick="list()">Listar</button> <button
        onclick="lsaluno()">Aluno</button> <button onclick="lsmedia()">Média</button> <button onclick="maiorQue()">Notas
        maior que</button><br><br>
    <div id="res"></div>
</body>
<script>
    const alunos = []

    function cadastro() {

        let nome = ipt_nome.value
        let nota1 = Number(ipt_n1.value)
        let nota2 = Number(ipt_n2.value)
        let nota3 = Number(ipt_n3.value)
        let error = ''
        let media = 0

        res.innerHTML = ''

        if (nome == '' || nome.length < 9) error += 'Preencha um nome com ao menos 9 caracteres e um aluno que não esteja cadastrado! <br>'
        if (nota1 < 0 || nota2 < 0 || nota3 < 0 || nota1 == '' || nota2 == '' || nota3 == '') error += 'As notas devem ser maior do que zero! <br>'

        if (error != '') {
            res.innerHTML = error
        } else {
            res.innerHTML = ''

            media = ((nota1 + nota2 + nota3) / 3).toFixed(1)

            alunos.push({
                nome: nome,
                notaUm: nota1,
                notaDois: nota2,
                notaTres: nota3,
                mediaAluno: media
            })

            ipt_nome.value = ''
            ipt_n1.value = ''
            ipt_n2.value = ''
            ipt_n3.value = ''

            alert('Cadastro realizado com sucesso!')
        }

    }

    function list() {
        if (alunos.length > 0) {
            let ordem = prompt('Digite 1 para listar do primeiro ao último | Digite 2 para listar do último ao primeiro')
            let media = 0

            while (ordem != 1 && ordem != 2) {
                ordem = prompt('Digite 1 para listar do primeiro ao último | Digite 2 para listar do último ao primeiro')
            }

            if (ordem == 1) {
                res.innerHTML = ''
                for (let i = 0; i < alunos.length; i++) {

                    res.innerHTML += `<br> Aluno: ${alunos[i].nome} – N1: ${alunos[i].notaUm} – N2: ${alunos[i].notaDois} – N3: ${alunos[i].notaTres} Média: ${alunos[i].mediaAluno} – Listando do primeiro ao último <br>`
                }
            } else {
                res.innerHTML = ''
                for (let i = alunos.length - 1; i >= 0; i--) {

                    res.innerHTML += `<br>Aluno: ${alunos[i].nome} – N1: ${alunos[i].notaUm} – N2: ${alunos[i].notaDois} – N3: ${alunos[i].notaTres} Média: ${alunos[i].mediaAluno} – Listando do último ao primeiro <br>`
                }
            }
        }
    }

    function lsaluno() {
        if (alunos.length > 0) {
            let aluno = prompt('Informe o nome do aluno para obter os registro:')
            let media = 0
            let existe = false

            for (let i = 0; i < alunos.length; i++) {
                if (alunos[i].nome == aluno) {
                    existe = true
                }
            }

            if (!existe) {
                alert('Aluno não encontrado no sistema')
            } else {

                for (i = 0; i < alunos.length; i++) {
                    if (aluno == alunos[i].nome) {

                        res.innerHTML = `<br>Aluno: ${alunos[i].nome} – N1: ${alunos[i].notaUm} – N2: ${alunos[i].notaDois} – N3: ${alunos[i].notaTres} Média: ${alunos[i].mediaAluno} – Registro do aluno solicitado  <br>`

                        break
                    }
                }
            }
        }
    }

    function lsmedia() {
        if (alunos.length > 0) {
            let resultMedia = prompt('Deseja ver a maior média ou a menor média?')
            let menorMedia = 10
            let maiorMedia = 0
            let indexResult = 0

            while (resultMedia != 'maior' && resultMedia != 'menor' && resultMedia != 'Maior' && resultMedia != 'Menor') {
                resultMedia = prompt('Deseja ver a maior média ou a menor média?')
            }

            if (resultMedia == 'Maior' || resultMedia == 'maior') {
                for (let i = 0; i < alunos.length; i++) {
                    if (alunos[i].mediaAluno > maiorMedia) {
                        maiorMedia = alunos[i].mediaAluno
                        indexResult = i
                    }
                }

                res.innerHTML = `<br>Aluno: ${alunos[indexResult].nome} – N1: ${alunos[indexResult].notaUm} – N2: ${alunos[indexResult].notaDois} – N3: ${alunos[indexResult].notaTres} – Média: ${alunos[indexResult].mediaAluno} – Maior média cadastrada <br>`
            } else {
                for (let i = 0; i < alunos.length; i++) {
                    if (alunos[i].mediaAluno < menorMedia) {
                        menorMedia = alunos[i].mediaAluno
                        indexResult = i
                    }
                }

                res.innerHTML = `<br>Aluno: ${alunos[indexResult].nome} – N1: ${alunos[indexResult].notaUm} – N2: ${alunos[indexResult].notaDois} – N3: ${alunos[indexResult].notaTres} – Média: ${alunos[indexResult].mediaAluno} – Menor média cadastrada <br>`
            }
        }
    }

    function maiorQue() {
        res.innerHTML = ''
        
        if (alunos.length > 0) {
            let notaRef = Number(prompt('Informe a nota limite:'))

            for (let i = 0; i < alunos.length; i++) {
                if (alunos[i].notaUm > notaRef || alunos[i].notaDois > notaRef || alunos[i].notaTres > notaRef) {
                    res.innerHTML += `<br> Aluno: ${alunos[i].nome} – N1: ${alunos[i].notaUm} – N2: ${alunos[i].notaDois} – N3: ${alunos[i].notaTres} – Média: ${alunos[i].mediaAluno} – Pelo menos uma nota maior que ${notaRef} <br>`
                }
            }
        }
    }
</script>

</html>